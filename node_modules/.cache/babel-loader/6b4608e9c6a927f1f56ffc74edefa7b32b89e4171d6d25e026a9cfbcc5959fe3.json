{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nconst TOAST_LIMIT = 1;\nlet count = 0;\nfunction generateId() {\n  count = (count + 1) % Number.MAX_VALUE;\n  return count.toString();\n}\nconst toastStore = {\n  state: {\n    toasts: []\n  },\n  listeners: [],\n  getState: () => toastStore.state,\n  setState: nextState => {\n    if (typeof nextState === \"function\") {\n      toastStore.state = nextState(toastStore.state);\n    } else {\n      toastStore.state = {\n        ...toastStore.state,\n        ...nextState\n      };\n    }\n    toastStore.listeners.forEach(listener => listener(toastStore.state));\n  },\n  subscribe: listener => {\n    toastStore.listeners.push(listener);\n    return () => {\n      toastStore.listeners = toastStore.listeners.filter(l => l !== listener);\n    };\n  }\n};\nexport const toast = ({\n  ...props\n}) => {\n  const id = generateId();\n  const update = props => toastStore.setState(state => ({\n    ...state,\n    toasts: state.toasts.map(t => t.id === id ? {\n      ...t,\n      ...props\n    } : t)\n  }));\n  const dismiss = () => toastStore.setState(state => ({\n    ...state,\n    toasts: state.toasts.filter(t => t.id !== id)\n  }));\n  toastStore.setState(state => ({\n    ...state,\n    toasts: [{\n      ...props,\n      id,\n      dismiss\n    }, ...state.toasts].slice(0, TOAST_LIMIT)\n  }));\n  return {\n    id,\n    dismiss,\n    update\n  };\n};\nexport function useToast() {\n  _s();\n  const [state, setState] = useState(toastStore.getState());\n  useEffect(() => {\n    const unsubscribe = toastStore.subscribe(state => {\n      setState(state);\n    });\n    return unsubscribe;\n  }, []);\n  useEffect(() => {\n    const timeouts = [];\n    state.toasts.forEach(toast => {\n      if (toast.duration === Infinity) {\n        return;\n      }\n      const timeout = setTimeout(() => {\n        toast.dismiss();\n      }, toast.duration || 5000);\n      timeouts.push(timeout);\n    });\n    return () => {\n      timeouts.forEach(timeout => clearTimeout(timeout));\n    };\n  }, [state.toasts]);\n  return {\n    toast,\n    toasts: state.toasts\n  };\n}\n_s(useToast, \"qllHLEKRvNUZ90by9jIG8sxSU1A=\");","map":{"version":3,"names":["useState","useEffect","TOAST_LIMIT","count","generateId","Number","MAX_VALUE","toString","toastStore","state","toasts","listeners","getState","setState","nextState","forEach","listener","subscribe","push","filter","l","toast","props","id","update","map","t","dismiss","slice","useToast","_s","unsubscribe","timeouts","duration","Infinity","timeout","setTimeout","clearTimeout"],"sources":["C:/Users/flore/Desktop/Projects/lokalnotodden/src/components/ui/use-toast.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst TOAST_LIMIT = 1;\r\n\r\nlet count = 0;\r\nfunction generateId() {\r\n  count = (count + 1) % Number.MAX_VALUE;\r\n  return count.toString();\r\n}\r\n\r\nconst toastStore = {\r\n  state: {\r\n    toasts: [],\r\n  },\r\n  listeners: [],\r\n\r\n  getState: () => toastStore.state,\r\n\r\n  setState: (nextState) => {\r\n    if (typeof nextState === \"function\") {\r\n      toastStore.state = nextState(toastStore.state);\r\n    } else {\r\n      toastStore.state = { ...toastStore.state, ...nextState };\r\n    }\r\n\r\n    toastStore.listeners.forEach((listener) => listener(toastStore.state));\r\n  },\r\n\r\n  subscribe: (listener) => {\r\n    toastStore.listeners.push(listener);\r\n    return () => {\r\n      toastStore.listeners = toastStore.listeners.filter((l) => l !== listener);\r\n    };\r\n  },\r\n};\r\n\r\nexport const toast = ({ ...props }) => {\r\n  const id = generateId();\r\n\r\n  const update = (props) =>\r\n    toastStore.setState((state) => ({\r\n      ...state,\r\n      toasts: state.toasts.map((t) => (t.id === id ? { ...t, ...props } : t)),\r\n    }));\r\n\r\n  const dismiss = () =>\r\n    toastStore.setState((state) => ({\r\n      ...state,\r\n      toasts: state.toasts.filter((t) => t.id !== id),\r\n    }));\r\n\r\n  toastStore.setState((state) => ({\r\n    ...state,\r\n    toasts: [{ ...props, id, dismiss }, ...state.toasts].slice(0, TOAST_LIMIT),\r\n  }));\r\n\r\n  return {\r\n    id,\r\n    dismiss,\r\n    update,\r\n  };\r\n};\r\n\r\nexport function useToast() {\r\n  const [state, setState] = useState(toastStore.getState());\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = toastStore.subscribe((state) => {\r\n      setState(state);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const timeouts = [];\r\n\r\n    state.toasts.forEach((toast) => {\r\n      if (toast.duration === Infinity) {\r\n        return;\r\n      }\r\n\r\n      const timeout = setTimeout(() => {\r\n        toast.dismiss();\r\n      }, toast.duration || 5000);\r\n\r\n      timeouts.push(timeout);\r\n    });\r\n\r\n    return () => {\r\n      timeouts.forEach((timeout) => clearTimeout(timeout));\r\n    };\r\n  }, [state.toasts]);\r\n\r\n  return {\r\n    toast,\r\n    toasts: state.toasts,\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}