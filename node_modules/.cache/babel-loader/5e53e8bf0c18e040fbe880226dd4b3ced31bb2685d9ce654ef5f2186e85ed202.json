{"ast":null,"code":"import _objectDestructuringEmpty from\"C:/Users/flore/Desktop/Projects/lokalnotodden/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _objectSpread from\"C:/Users/flore/Desktop/Projects/lokalnotodden/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from\"react\";const TOAST_LIMIT=1;let count=0;function generateId(){count=(count+1)%Number.MAX_VALUE;return count.toString();}const toastStore={state:{toasts:[]},listeners:[],getState:()=>toastStore.state,setState:nextState=>{if(typeof nextState===\"function\"){toastStore.state=nextState(toastStore.state);}else{toastStore.state=_objectSpread(_objectSpread({},toastStore.state),nextState);}toastStore.listeners.forEach(listener=>listener(toastStore.state));},subscribe:listener=>{toastStore.listeners.push(listener);return()=>{toastStore.listeners=toastStore.listeners.filter(l=>l!==listener);};}};export const toast=_ref=>{let props=Object.assign({},(_objectDestructuringEmpty(_ref),_ref));const id=generateId();const update=props=>toastStore.setState(state=>_objectSpread(_objectSpread({},state),{},{toasts:state.toasts.map(t=>t.id===id?_objectSpread(_objectSpread({},t),props):t)}));const dismiss=()=>toastStore.setState(state=>_objectSpread(_objectSpread({},state),{},{toasts:state.toasts.filter(t=>t.id!==id)}));toastStore.setState(state=>_objectSpread(_objectSpread({},state),{},{toasts:[_objectSpread(_objectSpread({},props),{},{id,dismiss}),...state.toasts].slice(0,TOAST_LIMIT)}));return{id,dismiss,update};};export function useToast(){const[state,setState]=useState(toastStore.getState());useEffect(()=>{const unsubscribe=toastStore.subscribe(state=>{setState(state);});return unsubscribe;},[]);useEffect(()=>{const timeouts=[];state.toasts.forEach(toast=>{if(toast.duration===Infinity){return;}const timeout=setTimeout(()=>{toast.dismiss();},toast.duration||5000);timeouts.push(timeout);});return()=>{timeouts.forEach(timeout=>clearTimeout(timeout));};},[state.toasts]);return{toast,toasts:state.toasts};}","map":{"version":3,"names":["useState","useEffect","TOAST_LIMIT","count","generateId","Number","MAX_VALUE","toString","toastStore","state","toasts","listeners","getState","setState","nextState","_objectSpread","forEach","listener","subscribe","push","filter","l","toast","_ref","props","Object","assign","_objectDestructuringEmpty","id","update","map","t","dismiss","slice","useToast","unsubscribe","timeouts","duration","Infinity","timeout","setTimeout","clearTimeout"],"sources":["C:/Users/flore/Desktop/Projects/lokalnotodden/src/components/ui/use-toast.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst TOAST_LIMIT = 1;\r\n\r\nlet count = 0;\r\nfunction generateId() {\r\n  count = (count + 1) % Number.MAX_VALUE;\r\n  return count.toString();\r\n}\r\n\r\nconst toastStore = {\r\n  state: {\r\n    toasts: [],\r\n  },\r\n  listeners: [],\r\n\r\n  getState: () => toastStore.state,\r\n\r\n  setState: (nextState) => {\r\n    if (typeof nextState === \"function\") {\r\n      toastStore.state = nextState(toastStore.state);\r\n    } else {\r\n      toastStore.state = { ...toastStore.state, ...nextState };\r\n    }\r\n\r\n    toastStore.listeners.forEach((listener) => listener(toastStore.state));\r\n  },\r\n\r\n  subscribe: (listener) => {\r\n    toastStore.listeners.push(listener);\r\n    return () => {\r\n      toastStore.listeners = toastStore.listeners.filter((l) => l !== listener);\r\n    };\r\n  },\r\n};\r\n\r\nexport const toast = ({ ...props }) => {\r\n  const id = generateId();\r\n\r\n  const update = (props) =>\r\n    toastStore.setState((state) => ({\r\n      ...state,\r\n      toasts: state.toasts.map((t) => (t.id === id ? { ...t, ...props } : t)),\r\n    }));\r\n\r\n  const dismiss = () =>\r\n    toastStore.setState((state) => ({\r\n      ...state,\r\n      toasts: state.toasts.filter((t) => t.id !== id),\r\n    }));\r\n\r\n  toastStore.setState((state) => ({\r\n    ...state,\r\n    toasts: [{ ...props, id, dismiss }, ...state.toasts].slice(0, TOAST_LIMIT),\r\n  }));\r\n\r\n  return {\r\n    id,\r\n    dismiss,\r\n    update,\r\n  };\r\n};\r\n\r\nexport function useToast() {\r\n  const [state, setState] = useState(toastStore.getState());\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = toastStore.subscribe((state) => {\r\n      setState(state);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const timeouts = [];\r\n\r\n    state.toasts.forEach((toast) => {\r\n      if (toast.duration === Infinity) {\r\n        return;\r\n      }\r\n\r\n      const timeout = setTimeout(() => {\r\n        toast.dismiss();\r\n      }, toast.duration || 5000);\r\n\r\n      timeouts.push(timeout);\r\n    });\r\n\r\n    return () => {\r\n      timeouts.forEach((timeout) => clearTimeout(timeout));\r\n    };\r\n  }, [state.toasts]);\r\n\r\n  return {\r\n    toast,\r\n    toasts: state.toasts,\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}